# StrengthWise - å¥èº«å‹•ä½œå®Œæ•´è³‡è¨Š

> è³‡æ–™åº«ï¼šexercises è¡¨æ ¼å®Œæ•´è³‡æ–™èˆ‡é—œè¯é›†åˆ

**åŒ¯å‡ºæ™‚é–“**: 2024-12-26  
**ç¸½å‹•ä½œæ•¸**: 794  
**è³‡æ–™ä¾†æº**: Supabase PostgreSQL

---

## ğŸ“Š å‹•ä½œè³‡æ–™çµ±è¨ˆ

### ç¸½è¦½
- **ç³»çµ±é è¨­å‹•ä½œ**: 794 å€‹
- **ç”¨æˆ¶è‡ªè¨‚å‹•ä½œ**: æ”¯æ´ï¼ˆuser_id != nullï¼‰
- **å¤šèªè¨€æ”¯æ´**: ä¸­æ–‡ + è‹±æ–‡

### è¨“ç·´é¡å‹åˆ†å¸ƒ
| è¨“ç·´é¡å‹ | æ•¸é‡ | ç™¾åˆ†æ¯” |
|---------|------|--------|
| é‡è¨“ | 777 | 97.9% |
| ç‘œä¼½ | 12 | 1.5% |
| å…¶ä»– | 5 | 0.6% |

### èº«é«”éƒ¨ä½åˆ†å¸ƒ (Top 10)
| èº«é«”éƒ¨ä½ | å‹•ä½œæ•¸ |
|---------|--------|
| èƒ¸ | 112 |
| è‚© | 104 |
| è…¿ | 98 |
| èƒŒ | 87 |
| è‡€ | 76 |
| äºŒé ­ | 58 |
| ä¸‰é ­ | 54 |
| æ ¸å¿ƒ | 42 |
| å°è…¿ | 28 |
| å…¨èº« | 24 |

### å™¨æåˆ†å¸ƒ
| å™¨æé¡åˆ¥ | å‹•ä½œæ•¸ |
|---------|--------|
| å¾’æ‰‹ | 226 |
| å•éˆ´ | 146 |
| Cableæ»‘è¼ªæ©Ÿ | 148 |
| æ©Ÿæ¢°å¼ | 85 |
| æ§“éˆ´ | 74 |
| å£ºéˆ´ | 23 |
| å…¶ä»– | 92 |

### é—œç¯€é¡å‹åˆ†å¸ƒ
| é—œç¯€é¡å‹ | èªªæ˜ |
|---------|------|
| å¤šé—œç¯€ | è¤‡åˆå‹•ä½œï¼ˆå¦‚æ·±è¹²ã€ç¡¬èˆ‰ï¼‰|
| å–®é—œç¯€ | å­¤ç«‹å‹•ä½œï¼ˆå¦‚å½èˆ‰ã€é£›é³¥ï¼‰|

---

## ğŸ—„ï¸ è³‡æ–™è¡¨çµæ§‹

### exercises è¡¨æ ¼

**ä¸»éµ**: `id` (TEXT, 20 å­—ç¬¦ Firestore ç›¸å®¹ ID)

#### æ¬„ä½å®šç¾©

| æ¬„ä½åç¨± | è³‡æ–™é¡å‹ | èªªæ˜ | ç¯„ä¾‹ |
|---------|---------|------|------|
| `id` | TEXT | å”¯ä¸€è­˜åˆ¥ç¢¼ï¼ˆ20 å­—ç¬¦ï¼‰ | "03g9loX3XxvLPMsI0Qax" |
| `name` | TEXT | å®Œæ•´åç¨±ï¼ˆä¸­æ–‡ï¼‰ | "æ¨ï¼é£›é³¥ï¼å‚¾æ–œï¼å•éˆ´" |
| `name_en` | TEXT | è‹±æ–‡åç¨± | "Push/Fly/Incline/Dumbbell" |
| `action_name` | TEXT | å‹•ä½œåç¨± | "é£›é³¥" |
| `training_type` | TEXT | è¨“ç·´é¡å‹ | "é‡è¨“", "ç‘œä¼½", "æœ‰æ°§" |
| `body_part` | TEXT | ä¸»è¦èº«é«”éƒ¨ä½ | "èƒ¸", "èƒŒ", "è…¿" |
| `body_parts` | JSONB | æ‰€æœ‰ç›¸é—œèº«é«”éƒ¨ä½ï¼ˆé™£åˆ—ï¼‰| ["èƒ¸", "è‚©"] |
| `specific_muscle` | TEXT | å…·é«”è‚Œè‚‰ | "ä¸Šèƒ¸", "å¾Œä¸‰è§’" |
| `equipment` | TEXT | æ‰€éœ€å™¨æ | "å•éˆ´", "Cableæ»‘è¼ªæ©Ÿ" |
| `equipment_category` | TEXT | å™¨æå¤§é¡ | "è‡ªç”±é‡é‡", "æ©Ÿæ¢°å¼" |
| `equipment_subcategory` | TEXT | å™¨æå­é¡ | "å•éˆ´", "Cableæ»‘è¼ª" |
| `joint_type` | TEXT | é—œç¯€é¡å‹ | "å¤šé—œç¯€", "å–®é—œç¯€" |
| `level1` | TEXT | åˆ†é¡å±¤ç´š1ï¼ˆå‹•ä½œæ¨¡å¼ï¼‰| "æ¨", "æ‹‰", "è¹²" |
| `level2` | TEXT | åˆ†é¡å±¤ç´š2 | "è‡¥æ¨", "åˆ’èˆ¹" |
| `level3` | TEXT | åˆ†é¡å±¤ç´š3 | "å¹³è‡¥å¼", "å‚¾æ–œå¼" |
| `level4` | TEXT | åˆ†é¡å±¤ç´š4 | "è‡ªç”±é‡é‡", "å›ºå®šå™¨æ" |
| `level5` | TEXT | åˆ†é¡å±¤ç´š5 | ä¿ç•™æ¬„ä½ |
| `description` | TEXT | å‹•ä½œæè¿° | "å‚¾æ–œé£›é³¥ä¸»è¦è¨“ç·´ä¸Šèƒ¸..." |
| `image_url` | TEXT | åœ–ç‰‡ URL | "" (ä¿ç•™) |
| `video_url` | TEXT | å½±ç‰‡ URL | "" (ä¿ç•™) |
| `user_id` | UUID | ç”¨æˆ¶ IDï¼ˆnull = ç³»çµ±é è¨­ï¼‰| null |
| `created_at` | TIMESTAMPTZ | å‰µå»ºæ™‚é–“ | "2024-12-24T22:28:47Z" |
| `updated_at` | TIMESTAMPTZ | æ›´æ–°æ™‚é–“ | "2024-12-24T22:28:47Z" |

#### å‘½åè¦å‰‡

å‹•ä½œåç¨±éµå¾ªéšå±¤å¼çµæ§‹ï¼š
```
[å‹•ä½œæ¨¡å¼]/[å‹•ä½œåç¨±]/[è§’åº¦æˆ–å§¿å‹¢]/[å™¨æ]/[è®ŠåŒ–å½¢å¼]

ç¯„ä¾‹ï¼š
- æ¨/è‡¥æ¨/å¹³è‡¥å¼/æ§“éˆ´/å¯¬æ¡
- æ‹‰/åˆ’èˆ¹/åå§¿/Cableæ»‘è¼ª/å–®è‡‚
- è¹²/æ·±è¹²/ä¿åŠ åˆ©äº/å•éˆ´/å–®è…¿
```

---

## ğŸ”— é—œè¯é›†åˆ

### 1. equipments è¡¨æ ¼ï¼ˆå™¨æï¼‰

**é—œè¯æ–¹å¼**: `exercises.equipment` é—œè¯ `equipments.name`

| id | name | count | èªªæ˜ |
|----|------|-------|------|
| wjozaTv6PYgYzvIEObHr | å¾’æ‰‹ | 226 | è‡ªèº«é«”é‡è¨“ç·´ |
| UF0l9ZvDmlJxHwdZljLI | Cableæ»‘è¼ªæ©Ÿ | 148 | Cable æ»‘è¼ªç³»çµ± |
| Jc61wpsUuusf5OyfjTDj | å•éˆ´ | 146 | è‡ªç”±é‡é‡ - å•éˆ´ |
| IG6GJRdz6ia6aL5821eY | æ©Ÿæ¢°å¼ | 85 | å›ºå®šè»Œè·¡æ©Ÿå™¨ |
| nSyqcwC4CvCxfmzpSTia | æ§“éˆ´ | 74 | è‡ªç”±é‡é‡ - æ§“éˆ´ |
| kwuiXhQA1qxgPrj6dIl0 | å£ºéˆ´ | 23 | å£ºéˆ´è¨“ç·´ |
| FCT2Iv2JUXrEtBkw8BMe | å½ˆåŠ›ç¹© | 22 | é˜»åŠ›å¸¶ |
| M0jK2Lz6avQOpFS0rc0i | å²å¯†æ–¯ | 21 | Smith æ©Ÿ |
| 7SgSqLR7RY9MTtREzTR0 | å¥èº«çƒ | 16 | ç‘œä¼½çƒ/ç©©å®šçƒ |
| (å…¶ä»–) | (å…¶ä»–) | 73 | å…¶ä»–å™¨æ |

**ç¸½è¨ˆ**: 21 ç¨®å™¨æ

### 2. joint_types è¡¨æ ¼ï¼ˆé—œç¯€é¡å‹ï¼‰

**é—œè¯æ–¹å¼**: `exercises.joint_type` é—œè¯ `joint_types.name`

| id | name | description | exercise_count |
|----|------|-------------|----------------|
| - | å¤šé—œç¯€ | è¤‡åˆå‹•ä½œï¼Œæ¶‰åŠå¤šå€‹é—œç¯€ï¼ˆå¦‚æ·±è¹²ã€è‡¥æ¨ï¼‰| ~600 |
| - | å–®é—œç¯€ | å­¤ç«‹å‹•ä½œï¼Œå–®ä¸€é—œç¯€ï¼ˆå¦‚å½èˆ‰ã€è…¿å±ˆä¼¸ï¼‰| ~194 |

**é‡è¦æ€§**:
- **å¤šé—œç¯€å‹•ä½œ**: è¨“ç·´æ•ˆç‡é«˜ï¼Œé©åˆåŠ›é‡è¨“ç·´
- **å–®é—œç¯€å‹•ä½œ**: ç²¾æº–åˆºæ¿€ï¼Œé©åˆè‚Œè‚¥å¤§è¨“ç·´

### 3. favorite_exercises è¡¨æ ¼ï¼ˆæ”¶è—å‹•ä½œï¼‰

**é—œè¯æ–¹å¼**: 
- `favorite_exercises.exercise_id` â†’ `exercises.id`
- `favorite_exercises.user_id` â†’ `users.id`

**çµæ§‹**:
```sql
CREATE TABLE favorite_exercises (
  id TEXT PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  exercise_id TEXT REFERENCES exercises(id),
  created_at TIMESTAMPTZ
);
```

**ç”¨é€”**: ç”¨æˆ¶æ”¶è—å¸¸ç”¨å‹•ä½œï¼Œå¿«é€Ÿé¸æ“‡è¨“ç·´é …ç›®

### 4. workout_plans è¡¨æ ¼ï¼ˆè¨“ç·´è¨ˆåŠƒä¸­çš„å‹•ä½œï¼‰

**é—œè¯æ–¹å¼**: `workout_plans.exercises[].exercise_id` â†’ `exercises.id`

**exercises æ¬„ä½çµæ§‹** (JSONB):
```json
{
  "exercise_id": "Zf9jXhT2LpVqWkYnRmA5",
  "exercise_name": "è‡¥æ¨/å¹³è‡¥å¼/æ§“éˆ´",
  "sets": 4,
  "reps": 10,
  "weight": 60,
  "rest_seconds": 90,
  "completed_sets": [
    {
      "set_number": 1,
      "reps": 10,
      "weight": 60,
      "completed": true
    }
  ]
}
```

**èªªæ˜**: 
- æ¯å€‹è¨“ç·´è¨ˆåŠƒåŒ…å«å¤šå€‹å‹•ä½œ
- æ¯å€‹å‹•ä½œè¨˜éŒ„çµ„æ•¸ã€æ¬¡æ•¸ã€é‡é‡
- æ”¯æ´å®Œæˆé€²åº¦è¿½è¹¤

---

## ğŸ” å¸¸è¦‹æŸ¥è©¢æ¨¡å¼

### 1. æŒ‰èº«é«”éƒ¨ä½æŸ¥è©¢
```dart
// æŸ¥è©¢èƒ¸éƒ¨å‹•ä½œ
await supabase
  .from('exercises')
  .select()
  .eq('body_part', 'èƒ¸')
  .is_('user_id', null);  // åªæŸ¥ç³»çµ±é è¨­
```

### 2. æŒ‰å™¨ææŸ¥è©¢
```dart
// æŸ¥è©¢å•éˆ´å‹•ä½œ
await supabase
  .from('exercises')
  .select()
  .eq('equipment', 'å•éˆ´')
  .is_('user_id', null);
```

### 3. è¤‡åˆæŸ¥è©¢
```dart
// æŸ¥è©¢èƒ¸éƒ¨ + å¤šé—œç¯€ + è‡ªç”±é‡é‡
await supabase
  .from('exercises')
  .select()
  .eq('body_part', 'èƒ¸')
  .eq('joint_type', 'å¤šé—œç¯€')
  .in_('equipment', ['å•éˆ´', 'æ§“éˆ´'])
  .is_('user_id', null);
```

### 4. æ¨¡ç³Šæœå°‹
```dart
// æœå°‹å‹•ä½œåç¨±
await supabase
  .from('exercises')
  .select()
  .ilike('name', '%è‡¥æ¨%')
  .is_('user_id', null);
```

### 5. å–å¾—ç”¨æˆ¶æ”¶è—å‹•ä½œ
```dart
// æŸ¥è©¢ç”¨æˆ¶æ”¶è—çš„å‹•ä½œï¼ˆå«å®Œæ•´å‹•ä½œè³‡è¨Šï¼‰
await supabase
  .from('favorite_exercises')
  .select('*, exercises(*)')
  .eq('user_id', userId);
```

---

## ğŸ“ˆ å‹•ä½œåˆ†é¡éšå±¤

### Level 1: å‹•ä½œæ¨¡å¼ï¼ˆMovement Patternï¼‰
- **æ¨** (Push): èƒ¸ã€è‚©ã€ä¸‰é ­
- **æ‹‰** (Pull): èƒŒã€äºŒé ­
- **è¹²** (Squat): è…¿ã€è‡€
- **é«–é‰¸éˆ** (Hip Hinge): è‡€ã€è…¿å¾Œå´
- **æ ¸å¿ƒ** (Core): è…¹ã€ä¸‹èƒŒ
- **å…¶ä»–** (Others): å°è…¿ã€å‰è‡‚ç­‰

### Level 2: å‹•ä½œé¡å‹
- æ¨ â†’ è‡¥æ¨ã€è‚©æ¨ã€ä¸‰é ­ä¸‹å£“
- æ‹‰ â†’ åˆ’èˆ¹ã€ä¸‹æ‹‰ã€å½èˆ‰
- è¹² â†’ æ·±è¹²ã€åˆ†è…¿è¹²ã€å¼“ç®­æ­¥

### Level 3: è§’åº¦/å§¿å‹¢
- è‡¥æ¨ â†’ å¹³è‡¥å¼ã€ä¸Šæ–œã€ä¸‹æ–œ
- åˆ’èˆ¹ â†’ åå§¿ã€å±ˆé«”ã€å–®è‡‚

### Level 4: å™¨æ
- è‡¥æ¨/å¹³è‡¥å¼ â†’ æ§“éˆ´ã€å•éˆ´ã€å²å¯†æ–¯

### Level 5: è®ŠåŒ–å½¢å¼
- è‡¥æ¨/å¹³è‡¥å¼/å•éˆ´ â†’ å¯¬æ¡ã€çª„æ¡ã€äº¤æ›¿

---

## ğŸ¯ è³‡æ–™å“è³ª

### å®Œæ•´æ€§
- âœ… æ‰€æœ‰å‹•ä½œéƒ½æœ‰ä¸­æ–‡åç¨±
- âœ… æ‰€æœ‰å‹•ä½œéƒ½æœ‰è¨“ç·´é¡å‹
- âœ… æ‰€æœ‰å‹•ä½œéƒ½æœ‰èº«é«”éƒ¨ä½
- âœ… æ‰€æœ‰å‹•ä½œéƒ½æœ‰å™¨æé¡åˆ¥
- âœ… æ‰€æœ‰å‹•ä½œéƒ½æœ‰é—œç¯€é¡å‹
- âš ï¸ è‹±æ–‡åç¨±: 100%
- âš ï¸ å‹•ä½œæè¿°: 0%ï¼ˆä¿ç•™æ¬„ä½ï¼‰
- âš ï¸ åœ–ç‰‡/å½±ç‰‡: 0%ï¼ˆä¿ç•™æ¬„ä½ï¼‰

### æ¨™æº–åŒ–
- âœ… èº«é«”éƒ¨ä½çµ±ä¸€å‘½å
- âœ… å™¨æåç¨±çµ±ä¸€
- âœ… è¨“ç·´é¡å‹çµ±ä¸€
- âœ… ID æ ¼å¼çµ±ä¸€ï¼ˆ20 å­—ç¬¦ Firestore ç›¸å®¹ï¼‰

---

## ğŸ“ è³‡æ–™ç¶­è­·

### æ–°å¢å‹•ä½œ
```dart
final newExercise = Exercise(
  id: generateFirestoreId(),  // 20 å­—ç¬¦ ID
  name: 'æ¨/è‡¥æ¨/å¹³è‡¥å¼/æ§“éˆ´',
  nameEn: 'Push/Bench Press/Flat/Barbell',
  actionName: 'è‡¥æ¨',
  trainingType: 'é‡è¨“',
  bodyPart: 'èƒ¸',
  bodyParts: ['èƒ¸', 'è‚©', 'ä¸‰é ­'],
  specificMuscle: 'ä¸­èƒ¸',
  equipment: 'æ§“éˆ´',
  equipmentCategory: 'è‡ªç”±é‡é‡',
  equipmentSubcategory: 'æ§“éˆ´',
  jointType: 'å¤šé—œç¯€',
  level1: 'æ¨',
  level2: 'è‡¥æ¨',
  level3: 'å¹³è‡¥å¼',
  level4: 'è‡ªç”±é‡é‡',
  userId: null,  // ç³»çµ±é è¨­
);
```

### ç”¨æˆ¶è‡ªè¨‚å‹•ä½œ
```dart
// user_id ä¸ç‚º null è¡¨ç¤ºç”¨æˆ¶è‡ªè¨‚
final customExercise = Exercise(
  // ... åŒä¸Š
  userId: currentUser.uid,  // é—œè¯åˆ°ç‰¹å®šç”¨æˆ¶
);
```

---

## ğŸ”— ç›¸é—œæª”æ¡ˆ

- **å®Œæ•´å‹•ä½œè³‡æ–™**: `database_export/exercises.json`
- **å™¨æè³‡æ–™**: `database_export/equipments.json`
- **é—œç¯€é¡å‹**: `database_export/joint_types.json`
- **è³‡æ–™åº«çµæ§‹**: `database_export/database_structure.md`

---

**æ–‡æª”ç‰ˆæœ¬**: 1.0  
**æœ€å¾Œæ›´æ–°**: 2024-12-26  
**ç¶­è­·è€…**: StrengthWise é–‹ç™¼åœ˜éšŠ

